{"remainingRequest":"/Users/lvpeng/Desktop/h5-template-vue/node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!/Users/lvpeng/Desktop/h5-template-vue/src/views/Login.vue?vue&type=style&index=0&id=26084dc2&lang=scss&scoped=true&","dependencies":[{"path":"/Users/lvpeng/Desktop/h5-template-vue/src/views/Login.vue","mtime":1609503011024},{"path":"/Users/lvpeng/Desktop/h5-template-vue/node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lvpeng/Desktop/h5-template-vue/node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/lvpeng/Desktop/h5-template-vue/node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/lvpeng/Desktop/h5-template-vue/node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lvpeng/Desktop/h5-template-vue/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lvpeng/Desktop/h5-template-vue/node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmxvZ2luLWNvbnRhaW5lewogICAgd2lkdGg6MTAwJTsKICAgIGhlaWdodDoxMDAlOwogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgIHBhZGRpbmc6NDRweCAyNXB4IDA7CiAgICAudGl0bGUtdGV4dHsKICAgICAgICBoZWlnaHQ6IDQycHg7CiAgICAgICAgZm9udC1zaXplOiAzMHB4OwogICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7CiAgICAgICAgY29sb3I6ICMyQzJDMkM7CiAgICAgICAgbGluZS1oZWlnaHQ6IDQycHg7CiAgICB9CiAgICAudGlwc3sKICAgICAgICBoZWlnaHQ6IDE3cHg7CiAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgIGNvbG9yOiAjRDBEMUQzOwogICAgICAgIGxpbmUtaGVpZ2h0OiAxN3B4OyAKICAgICAgICBtYXJnaW46IDEzcHggMCA2cHg7CiAgICB9CiAgICAuYnRuewogICAgICAgIHdpZHRoOiA4NHB4OwogICAgICAgIGhlaWdodDogNTBweDsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuODUpOwogICAgfQogICAgLmJ0bjo6YmVmb3JlewogICAgICAgIGNvbnRlbnQ6IiI7CiAgICAgICAgd2lkdGg6IDFweDsKICAgICAgICBoZWlnaHQ6IDI0cHg7CiAgICAgICAgYmFja2dyb3VuZDpyZ2JhKDIyMCwgMjIwLCAyMjAsIDEpOwogICAgICAgIGRpc3BsYXk6aW5saW5lLWJsb2NrOyAgICAgIAogICAgICAgIHBvc2l0aW9uOmFic29sdXRlIDsgICAgIAogICAgICAgIHJpZ2h0OiA4NHB4OwogICAgfQogICAgLmxvZ2luX2J0bi13cmFwewogICAgICAgICAgICB3aWR0aDoxMDAlOwogICAgICAgICAgICBoZWlnaHQ6IDc0cHg7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDY5cHg7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgIC5sb2dpbl9idG57CiAgICAgICAgICAgIHdpZHRoOjMyNXB4OwogICAgICAgICAgICBoZWlnaHQ6IDc0cHg7CiAgICAgICAgfQogICAgfQoKfQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"login-containe\">\n        <div class=\"title-text\">短信验证码登录</div>\n        <span class=\"tips\">若该手机号未注册，我们将自动为您注册</span>\n        <Sinput title=\"请输入手机号\" @handleClick=\"handleMobile\"/>\n        <Sinput title=\"请输入验证码\" @handleClick=\"handleCode\" :num=\"4\">\n            <div v-show=\"show\" class=\"btn\" @click=\"gethandleCode\">获取验证码</div>\n            <div v-show=\"!show\" class=\"btn\" @click=\"gethandleCode\">{{count}}秒</div>\n        </Sinput>\n        <div class=\"login_btn-wrap\">\n            <van-image @click=\"handleSubmit\" class=\"login_btn\"\n                :src=\"require('@/assets/images/login_btn.png')\"/>\n        </div>\n    </div>\n</template>\n\n<script>\n\nimport Sinput  from '../components/Sinput';\nimport { isMobile ,isEmpty } from '@/utils/validate'\n    export default {\n        name:'Login',\n        components:{Sinput},\n        data() {\n            return {\n                mobileVal:\"\",\n                codeVal:\"\",\n                show: true,\n                count: '',\n                timer: null,\n            }\n        },\n        methods: {\n            handleMobile(val){\n                this.mobileVal = val;\n            },\n            handleCode(val){\n                this.codeVal = val;\n            },\n            gethandleCode(){\n                if(isEmpty(this.mobileVal)||!isMobile(this.mobileVal)){\n                    this.$toast('请输入正确的手机号');\n                    return;\n                }\n                const TIME_COUNT = 60;\n                if (!this.timer) {\n                    this.count = TIME_COUNT;\n                    this.show = false;\n                    this.timer = setInterval(() => {\n                        if (this.count > 0 && this.count <= TIME_COUNT) {\n                        this.count--;\n                        } else {\n                            this.show = true;\n                        clearInterval(this.timer);\n                            this.timer = null;\n                        }\n                    }, 1000)\n                }\n                try {\n                    this.$dyy.api.login.Getcode({\n                        \"phone\": this.mobileVal,\n                        \"pid\": 1\n                    })\n                } catch (e) {\n\n                }\n            },\n            handleSubmit(){\n                if(isEmpty(this.mobileVal)||!isMobile(this.mobileVal)){\n                    this.$toast('请输入正确的手机号');\n                    return;\n                }\n                if (isEmpty(this.codeVal)) {\n                    this.$toast('请输入验证码');\n                    return;\n                }\n                try {\n                    this.$dyy.api.login.Postlogin({\n                    \"loginType\": 1,\n                    \"phoneData\": {\n                        \"code\": this.codeVal,\n                        \"phone\": this.mobileVal\n                    },\n                    \"pid\": 1,\n                    \"platformType\": 1\n                    }).then(res=>{\n                        if (res.code === '200') {\n                            this.$store.dispatch('user/grade', res.data.selectGrade)\n                            this.$store.dispatch('user/userInfo', res.data.bsInfo)\n                            this.$store.dispatch('user/appLogin', res.data.token.token)\n                            const { query } = this.$route;\n                            const redirect = decodeURIComponent(query.redirect);\n                            if (query && (redirect!=\"undefined\")) {\n                                this.$router.replace(redirect);\n                                return;\n                            }\n                        }\n                    })\n                    \n                } catch (e) {\n\n                }\n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n.login-containe{\n    width:100%;\n    height:100%;\n    box-sizing: border-box;\n    padding:44px 25px 0;\n    .title-text{\n        height: 42px;\n        font-size: 30px;\n        font-weight: 500;\n        color: #2C2C2C;\n        line-height: 42px;\n    }\n    .tips{\n        height: 17px;\n        font-size: 12px;\n        color: #D0D1D3;\n        line-height: 17px; \n        margin: 13px 0 6px;\n    }\n    .btn{\n        width: 84px;\n        height: 50px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 12px;\n        color: rgba(0, 0, 0, 0.85);\n    }\n    .btn::before{\n        content:\"\";\n        width: 1px;\n        height: 24px;\n        background:rgba(220, 220, 220, 1);\n        display:inline-block;      \n        position:absolute ;     \n        right: 84px;\n    }\n    .login_btn-wrap{\n            width:100%;\n            height: 74px;\n            margin-top: 69px;\n            display: flex;\n            justify-content: center;\n        .login_btn{\n            width:325px;\n            height: 74px;\n        }\n    }\n\n}\n</style>\n"]}]}